# 线程与锁

## 线程

<hr>

### 线程安全

`线程安全指的是，在堆内存中的数据由于可以被任何线程访问到，在没有限制的情况下存在被意外修改的风险。即堆内存空间在没有保护机制的情况下，对多线程来说是不安全的地方，因为你放进去的数据，可能被别的线程“破坏”。`



## 锁

<hr>

四个必要条件：

1. **互斥条件**：一个资源每次只能被一个进程使用.
2. **请求与保持条件**：一个进程因请求资源而阻塞时，对已获得的资源保持不放。
3. **不剥夺条件**： 进程已获得的资源，在末使用完之前，不能强行剥夺。
4. **循环等待条件**：若干进程之间形成一种头尾相接的循环等待资源关系。

解决死锁的四个方式

1. **鸵鸟算法**。(直接忽略该问题)
2. **检测死锁并且恢复**。（检测与解除策略）
3. **仔细地对资源进行动态分配，以避免死锁**。（避免策略）
4. **通过破除死锁四个必要条件之一，来防止死锁产生**。（预防策略）