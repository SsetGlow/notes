# Spring



## 何为Spring？



## Spring 两大特性

### IOC(DI) 控制反转（依赖注入）

> 全称：inversion of control (dependency injection) 

`所谓的IOC称之为控制反转，简单来说就是将对象的创建的权利及对象的生命周期的管理过程交由Spring框架来处理，从此在开发过程中不再需要关注对象的创建和生命周期的管理，而是在需要时由Spring框架提供，这个由spring框架管理对象创建和生命周期的机制称之为控制反转。而在创建对象的过程中Spring可以依据配置对对象的属性进行设置，这个过称之为依赖注入,也即DI。`

### AOP(Aspect-OrientedProgramming) 面向切面编程

`具体是什么意思呢，就是将不同对象中的重复代码抽取出来，封装起来，并称其为切面。`

## Spring创建对象的方法

1. 通过类的无法构造方法创建对象。

   > ​	可以理解为用newInstance()方法。

2. 通过静态工厂创建对象。

   > ​	getBean()方法

3. 实例工厂创建对象。

   > ​	静态工厂与实例工厂的区别在于bean的配置文件不同

4. Spring工厂创建对象

## 单例与多例

### 单例：

每个bean定义只生成一个bean实例，每个getbean请求都是获得此实例。

### 多例：

每次getbean时生成一个实例，会生成多个实例。就是我把当前bean实例化之后，getBean请求不是此实例，而是生产新的实例。

### Bean 在单例模式下的生命周期

`bean在单例模式下，spring容器启动时解析xml发现该bean标签后，直接创建该bean的对象存入内部map中保存，此后无论调用多少次getBean()获取该bean都是从map中获取该对象返回，一直是一个对象。此对象一直被Spring容器持有，直到容器退出时，随着容器的退出对象被销毁。`

### Bean 在多例模式下的生命周期

`bean在多例模式下，spring容器启动时解析xml发现该bean标签后，只是将该bean进行管理，并不会创建对象，此后每次使用getBean()获取该bean时，spring都会重新创建该对象返回，每次都是一个新的对象。这个对象spring容器并不会持有，什么销毁取决于使用该对象的用户自己什么时候销毁该对象。`

## 懒加载

Spring默认会在容器初始化的过程中，解析xml，并将单例的bean创建并保存到map中，这样的机制在bean比较少时问题不大，但一旦bean非常多时，spring需要在启动的过程中花费大量的时间来创建bean 花费大量的空间存储bean，但这些bean可能很久都用不上，这种在启动时在时间和空间上的浪费显得非常的不值得。所以Spring提供了懒加载机制。所谓的懒加载机制就是可以规定指定的bean不在启动时立即创建，而是在后续第一次用到时才创建，从而减轻在启动过程中对时间和内存的消耗。

## Spring中关键方法的执行顺序 

在Spring创建bean对象时，先创建对象(通过无参构造或工厂)，之后立即调用init方法来执行初始化操作，之后此bean就可以哪来调用其它普通方法,而在对象销毁之前，spring容器调用其destory方法来执行销毁操作。



## JDBC

java操作关系型数据的API。导入相关数据库的驱动包后可以通过JDBC提供的接口来操作数据库。

### 六个步骤：

注册数据库驱动

获取数据库连接

获取传输器对象

传输sql执行获取结果集对象

遍历结果集获取信息

关闭资源

